<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Î™®ÏûÑ Ïã†Ï≤≠ ÎÇ¥Ïó≠ ÌéòÏù¥ÏßÄ</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
	<link rel="stylesheet" href="${pageContext.request.contextPath}/resources/jun/css/requestListPage.css">
    <script src="${pageContext.request.contextPath}/resources/jun/js/requestListPage.js"></script>
</head>
<body>
	<%@ include file="../common/header.jsp"%>
    <div id="contentBox">
        <h2>Î™®ÏûÑ Ïã†Ï≤≠ Î™©Î°ù</h2>
        <hr style="background: lightgray; height: 1px; border: 0;" >
        <br><br>
        <div class="clubList">
<%--         	<c:forEach var="c" items="${clubList}">
        		<div class="titlePart">
	                <span class="title">${c.clubTitle}</span>
	                <div class="ing">Î™®ÏßëÏ§ë(18/${c.capacity})</div>
	            </div>
	            <c:forEach var="r" items="${requestList}">
		            <div class="clubRequest">
	                    <div class="clubRequest-head">
	                        <div class="simpleInfo">
	                            <div class="simpleInfoLeft">
	                                <img src="${pageContext.request.contextPath}/resources/jun/img/ÌîÑÏÇ¨.jpg" class="profileImg" data-toggle="modal" data-target="#profileModal" style="cursor: pointer;">
	                                <b class="userId">Îñ°Íº¨ÏπòÎåÄÎßàÏôï</b>
	                                <img src="${pageContext.request.contextPath}/resources/jun/img/waiting.png" class="status_w">
	                            </div>
	                            <div class="simpleInfoRight">
	                                <span class="writeTime">${r.createDate}</span>
	                                <button type="button" class="reduceBtn"><i class="fa-solid fa-chevron-down"></i></button>
	                            </div>
	                        </div>
	                    </div>
	                    <div class="selectedClubRequest">
	                        <div class="detailInfo">
	                            <pre class="detail">[ÏßàÎ¨∏] ${c.question}&nbsp;[ÎåÄÎãµ] ${r.answer}</pre>
	                            <div class="btns">
	                                <button type="button" class="denyBtn">Í±∞Ï†à</button>
	                                <button type="button" class="acceptBtn">ÏàòÎùΩ</button>
	                            </div>
	                        </div>
	                    </div>
	                </div>
	            </c:forEach>
        	</c:forEach> --%>
        	
        	<div class="titlePart">
                <span class="title">${c.clubTitle}</span>
                <%-- div class="ing">Î™®ÏßëÏ§ë(18/${c.capacity})</div> --%>
                <c:choose>
                	<c:when test="${memberCnt eq c.capacity}">
                		<div class="done">Î™®ÏßëÏôÑÎ£å(${memberCnt}/${c.capacity})</div>
                	</c:when>
                	<c:when test="${memberCnt ne c.capacity}">
                		<div class="ing">Î™®ÏßëÏ§ë(${memberCnt}/${c.capacity})</div>
                	</c:when>
                </c:choose>
            </div>
            <div class="clubRequestList" id="clubRequestList">
            	<c:forEach var="r" items="${requestList}">
	                <div class="clubRequest">
	                    <div class="clubRequest-head">
	                        <div class="simpleInfo">
	                            <div class="simpleInfoLeft">
	                                <img src="${pageContext.request.contextPath}/resources/jun/img/ÌîÑÏÇ¨.jpg" class="profileImg" data-toggle="modal" data-target="#profileModal" style="cursor: pointer;">
	                                <b class="userId">${r.nickname}</b>
	                                <c:choose>
	                                	<c:when test="${r.status eq 'W'}">
			                                <img src="${pageContext.request.contextPath}/resources/jun/img/waiting.png" class="status_w">
	                                	</c:when>
	                                	<c:when test="${r.status eq 'Y'}">
			                                <img src="${pageContext.request.contextPath}/resources/jun/img/accepted.png" class="status_a">
	                                	</c:when>
	                                	<c:when test="${r.status eq 'N'}">
			                                <img src="${pageContext.request.contextPath}/resources/jun/img/denied.png" class="status_d">
	                                	</c:when>
	                                </c:choose>
	                            </div>
	                            <div class="simpleInfoRight">
	                                <span class="writeTime">${r.createDate}</span>
	                                <button class="reduceBtn"><i class="fa-solid fa-chevron-down"></i></button>
	                            </div>
	                        </div>
	                    </div>
	                    <div class="selectedClubRequest">
	                        <div class="detailInfo">
                                <div>
                                    <pre class="detail">[ÏßàÎ¨∏] ${c.question}<br><br>[ÎåÄÎãµ] ${r.answer}
                                </div>
                                <input type="text" value="${r.clubNo}" hidden>
	                            <div class="btns">
                            		<%-- <c:set var="status" value="${r.status}"/> --%>
	                            	<c:choose>
	                            		<c:when test="${r.status eq 'W'}">
			                                <button type="button" class="denyBtn" data-rqno="${r.requestNo}" data-cno="${r.clubNo}" data-url="${pageContext.request.contextPath}" data-question="${c.question}">Í±∞Ï†à</button>
			                                <button type="button" class="acceptBtn" data-rqno="${r.requestNo}" data-cno="${r.clubNo}" data-url="${pageContext.request.contextPath}" data-question="${c.question}">ÏàòÎùΩ</button>	                            			
	                            		</c:when>
	                            		<c:when test="${r.status eq 'Y'}">
			                                <button type="button" class="acceptedBtn">ÏàòÎùΩÎê®</button>
	                            		</c:when>
	                            		<c:when test="${r.status eq 'N'}">
			                                <button type="button" class="deniedBtn">Í±∞Ï†àÎê®</button>
	                            		</c:when>
	                            	</c:choose>
	                            </div>
	                        </div>
	                    </div>
	                </div>
            	</c:forEach>
            </div>
            
        	
<%--             <div class="titlePart">
                <span class="title">‚ô•Î∏îÎûôÎùºÏù¥Ïñ¥‚ô•:: with.ÌïòÏù¥Î≥º Î¨¥Ï†úÌïúüç∫</span>
                <div class="ing">Î™®ÏßëÏ§ë(18/20)</div>
            </div>
            <div class="clubRequestList">
                <div class="clubRequest">
                    <div class="clubRequest-head">
                        <div class="simpleInfo">
                            <div class="simpleInfoLeft">
                                <img src="${pageContext.request.contextPath}/resources/jun/img/ÌîÑÏÇ¨.jpg" class="profileImg" data-toggle="modal" data-target="#profileModal" style="cursor: pointer;">
                                <b class="userId">Îñ°Íº¨ÏπòÎåÄÎßàÏôï</b>
                                <img src="${pageContext.request.contextPath}/resources/jun/img/waiting.png" class="status_w">
                            </div>
                            <div class="simpleInfoRight">
                                <span class="writeTime">2024.05.02 09:40</span>
                                <button type="button" class="reduceBtn"><i class="fa-solid fa-chevron-down"></i></button>
                            </div>
                        </div>
                    </div>
                    <div class="selectedClubRequest">
                        <div class="detailInfo">
                            <pre class="detail">[ÏßàÎ¨∏] ÎÇòÏù¥ / ÏÑ±Î≥Ñ / ÏßÅÏóÖ / MBTI Î•º ÏûëÏÑ±Ìï¥Ï£ºÏÑ∏Ïöî ‚ú®
            (Î∏îÎûôÎùºÏù¥Ïñ¥ ÏßÄÏõêÌïòÏã§ Î∂ÑÏùÄ ÏöîÍ∏∞Ïóê ÎÇ®Í≤®Ï£ºÏÑ∏Ïö©üíå)
    
[ÎåÄÎãµ] 26ÏÇ¥ / ÎÇ®Ïûê / ÌôàÌîÑÎ°úÌÖçÌÑ∞ / ESFJ</pre>
                            <div class="btns">
                                <button type="button" class="denyBtn">Í±∞Ï†à</button>
                                <button type="button" class="acceptBtn">ÏàòÎùΩ</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="clubRequest">
                    <div class="clubRequest-head">
                        <div class="simpleInfo">
                            <div class="simpleInfoLeft">
                                <img src="${pageContext.request.contextPath}/resources/jun/img/ÌîÑÏÇ¨.jpg" class="profileImg" data-toggle="modal" data-target="#profileModal" style="cursor: pointer;">
                                <b class="userId">Îñ°Íº¨ÏπòÏ§ëÎßàÏôï</b>
                                <img src="${pageContext.request.contextPath}/resources/jun/img/waiting.png" class="status_w">
                            </div>
                            <div class="simpleInfoRight">
                                <span class="writeTime">2024.05.02 10:31</span>
                                <button class="reduceBtn"><i class="fa-solid fa-chevron-down"></i></button>
                            </div>
                        </div>
                    </div>
                    <div class="selectedClubRequest">
                        <div class="detailInfo">
                            <pre class="detail">[ÏßàÎ¨∏] ÎÇòÏù¥ / ÏÑ±Î≥Ñ / ÏßÅÏóÖ / MBTI Î•º ÏûëÏÑ±Ìï¥Ï£ºÏÑ∏Ïöî ‚ú®
            (Î∏îÎûôÎùºÏù¥Ïñ¥ ÏßÄÏõêÌïòÏã§ Î∂ÑÏùÄ ÏöîÍ∏∞Ïóê ÎÇ®Í≤®Ï£ºÏÑ∏Ïö©üíå)
    
[ÎåÄÎãµ] 26ÏÇ¥ / ÎÇ®Ïûê / ÌôàÌîÑÎ°úÌÖçÌÑ∞ / ESFJ</pre>
                            <div class="btns">
                                <button type="button" class="denyBtn">Í±∞Ï†à</button>
                                <button type="button" class="acceptBtn">ÏàòÎùΩ</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="clubRequest">
                    <div class="clubRequest-head">
                        <div class="simpleInfo">
                            <div class="simpleInfoLeft">
                                <img src="${pageContext.request.contextPath}/resources/jun/img/ÌîÑÏÇ¨.jpg" class="profileImg" data-toggle="modal" data-target="#profileModal" style="cursor: pointer;">
                                <b class="userId">Îñ°Íº¨ÏπòÏÜåÎßàÏôï</b>
                                <img src="${pageContext.request.contextPath}/resources/jun/img/waiting.png" class="status_w">
                            </div>
                            <div class="simpleInfoRight">
                                <span class="writeTime">2024.05.02 10:48</span>
                                <button class="reduceBtn"><i class="fa-solid fa-chevron-down"></i></button>
                            </div>
                        </div>
                    </div>
                    <div class="selectedClubRequest">
                        <div class="detailInfo">
                            <pre class="detail">[ÏßàÎ¨∏] ÎÇòÏù¥ / ÏÑ±Î≥Ñ / ÏßÅÏóÖ / MBTI Î•º ÏûëÏÑ±Ìï¥Ï£ºÏÑ∏Ïöî ‚ú®
            (Î∏îÎûôÎùºÏù¥Ïñ¥ ÏßÄÏõêÌïòÏã§ Î∂ÑÏùÄ ÏöîÍ∏∞Ïóê ÎÇ®Í≤®Ï£ºÏÑ∏Ïö©üíå)
    
[ÎåÄÎãµ] 26ÏÇ¥ / ÎÇ®Ïûê / ÌôàÌîÑÎ°úÌÖçÌÑ∞ / ESFJ</pre>
                            <div class="btns">
                                <button type="button" class="denyBtn">Í±∞Ï†à</button>
                                <button type="button" class="acceptBtn">ÏàòÎùΩ</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
                <div class="clubList">
            <div class="titlePart">
                <span class="title">„ÄêD-2üê•Ïñ¥Î•∏Ïù¥ÎÇ†„Äë Ï≤úÏßÄÎ∞©Ï∂ï Ïö¥ÎèôÌöå</span>
                <div class="done">Î™®ÏßëÏôÑÎ£å(50/50)</div>
            </div>
            <div class="clubRequestList">
                <div class="clubRequest">
                    <div class="clubRequest-head">
                        <div class="simpleInfo">
                            <div class="simpleInfoLeft">
                                <img src="${pageContext.request.contextPath}/resources/jun/img/ÌîÑÏÇ¨.jpg" class="profileImg" data-toggle="modal" data-target="#profileModal" style="cursor: pointer;">
                                <b class="userId">Îñ°Íº¨ÏπòÎåÄÎßàÏôï</b>
                                <img src="${pageContext.request.contextPath}/resources/jun/img/accepted.png" class="status_a">
                            </div>
                            <div class="simpleInfoRight">
                                <span class="writeTime">2024.04.16 00:12</span>
                                <button type="button" class="reduceBtn"><i class="fa-solid fa-chevron-down"></i></button>
                            </div>
                        </div>
                    </div>
                    <div class="selectedClubRequest">
                        <div class="detailInfo">
                            <pre class="detail">    [ÏßàÎ¨∏] 1. ÏÑ±Î≥Ñ  2. ÎÇòÏù¥  3. MBTI  4. Í¥ÄÏã¨Ï¢ÖÎ™©  5. Ïö¥ÎèôÏã†Í≤Ω 1~10
        
        [ÎåÄÎãµ] 1. ÎÇ®Ïûê  2. 26ÏÇ¥  3. ESFJ  4. Íµ¨Í∏∞Ï¢ÖÎ™©  5. Ïö¥ÎèôÏã†Í≤Ω 6</pre>
                            <div class="btns">
                                <button type="button" class="acceptedBtn">ÏàòÎùΩÎê®</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="clubRequest">
                    <div class="clubRequest-head">
                        <div class="simpleInfo">
                            <div class="simpleInfoLeft">
                                <img src="${pageContext.request.contextPath}/resources/jun/img/ÌîÑÏÇ¨.jpg" class="profileImg" data-toggle="modal" data-target="#profileModal" style="cursor: pointer;">
                                <b class="userId">Îñ°Íº¨ÏπòÏ§ëÎßàÏôï</b>
                                <img src="${pageContext.request.contextPath}/resources/jun/img/denied.png" class="status_d">
                            </div>
                            <div class="simpleInfoRight">
                                <span class="writeTime">2024.04.17 17:09</span>
                                <button class="reduceBtn"><i class="fa-solid fa-chevron-down"></i></button>
                            </div>
                        </div>
                    </div>
                    <div class="selectedClubRequest">
                        <div class="detailInfo">
                            <pre class="detail">    [ÏßàÎ¨∏] 1. ÏÑ±Î≥Ñ  2. ÎÇòÏù¥  3. MBTI  4. Í¥ÄÏã¨Ï¢ÖÎ™©  5. Ïö¥ÎèôÏã†Í≤Ω 1~10
        
        [ÎåÄÎãµ] 1. ÎÇ®Ïûê  2. 26ÏÇ¥  3. ESFJ  4. Íµ¨Í∏∞Ï¢ÖÎ™©  5. Ïö¥ÎèôÏã†Í≤Ω 6</pre>
                            <div class="btns">
                                <button type="button" class="deniedBtn">Í±∞Ï†àÎê®</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> --%>
    </div><br>

    <!-- The Modal -->
    <div class="modal fade" id="profileModal">
        <div class="modal-dialog">
            <div class="profile-modal-content">
            
                <!-- Modal Header -->
                <div class="profile-modal-header">
                    <button type="button" class="close" data-dismiss="modal">√ó</button>
                </div>
                
                <!-- Modal body -->
                <div class="profile-modal-body">
                    <div class="m-userProfile">
                        <img src="${pageContext.request.contextPath}/resources/jun/img/ÌîÑÏÇ¨.jpg" class="m-profileImg">
                        <span class="nickname">Îñ°Íº¨ÏπòÎåÄÎßàÏôï</span>
                        <span> Îãò</span>
                    </div>
                    <div class="m-manner">
                        <img src="${pageContext.request.contextPath}/resources/jun/img/Î°úÍ≥†.png" class="m-logo-area">
                        <div class="m-manner-area">
                            <span>Îß§ÎÑà Ï†êÏàò</span>
                            <div class="m-manner-score-area">
                                <div class="m-score-range">
                                    <p>0</p>
                                    <p>100</p>
                                </div>
                                <div class="m-manner-score"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Modal footer -->
                <div class="profile-modal-bottom">
                    <h6 style="font-size: 20px; font-weight: 600; margin: 10px 30px;">ÏûêÍ∏∞ÏÜåÍ∞ú</h6>
                    <textarea class="m-introduction"></textarea>
                </div>
                
            </div>
        </div>
    </div>
</body>
</html>